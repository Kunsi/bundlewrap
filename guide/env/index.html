<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Environment Variables - BundleWrap</title>
        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <link href="../../bundlewrap.css" rel="stylesheet">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-33891245-2', 'docs.bundlewrap.org');
            ga('send', 'pageview');
        </script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="../..">BundleWrap</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="../.."><i class="fa fa-home"></i></a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Guides <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../quickstart/">Quickstart</a>
</li>
                                    
<li >
    <a href="../installation/">Installation</a>
</li>
                                    
<li >
    <a href="../cli/">CLI</a>
</li>
                                    
<li class="active">
    <a href="./">Environment Variables</a>
</li>
                                    
<li >
    <a href="../item_file_templates/">File templates</a>
</li>
                                    
<li >
    <a href="../secrets/">Handling secrets</a>
</li>
                                    
<li >
    <a href="../locks/">Locking</a>
</li>
                                    
<li >
    <a href="../kubernetes/">Kubernetes</a>
</li>
                                    
<li >
    <a href="../dev_item/">Custom items</a>
</li>
                                    
<li >
    <a href="../dev_plugin/">Writing plugins</a>
</li>
                                    
<li >
    <a href="../api/">Python API</a>
</li>
                                    
<li >
    <a href="../os_compatibility/">OS compatibility</a>
</li>
                                    
<li >
    <a href="../migrate_12/">Migrating to 2.0</a>
</li>
                                    
<li >
    <a href="../migrate_23/">Migrating to 3.0</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Repository <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../repo/layout/">Overview</a>
</li>
                                    
<li >
    <a href="../../repo/nodes.py/">nodes.py</a>
</li>
                                    
<li >
    <a href="../../repo/groups.py/">groups.py</a>
</li>
                                    
<li >
    <a href="../../repo/requirements.txt/">requirements.txt</a>
</li>
                                    
<li >
    <a href="../../repo/items.py/">bundles/.../items.py</a>
</li>
                                    
<li >
    <a href="../../repo/metadata.py/">bundles/.../metadata.py</a>
</li>
                                    
<li >
    <a href="../../repo/hooks/">hooks/</a>
</li>
                                    
<li >
    <a href="../../repo/libs/">libs/</a>
</li>
                                    
<li >
    <a href="../../repo/plugins/">Plugins</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Items <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../items/action/">action</a>
</li>
                                    
<li >
    <a href="../../items/directory/">directory</a>
</li>
                                    
<li >
    <a href="../../items/file/">file</a>
</li>
                                    
<li >
    <a href="../../items/group/">group</a>
</li>
                                    
<li >
    <a href="../../items/k8s/">k8s_*</a>
</li>
                                    
<li >
    <a href="../../items/pkg_apt/">pkg_apt</a>
</li>
                                    
<li >
    <a href="../../items/pkg_dnf/">pkg_dnf</a>
</li>
                                    
<li >
    <a href="../../items/pkg_openbsd/">pkg_openbsd</a>
</li>
                                    
<li >
    <a href="../../items/pkg_opkg/">pkg_opkg</a>
</li>
                                    
<li >
    <a href="../../items/pkg_pacman/">pkg_pacman</a>
</li>
                                    
<li >
    <a href="../../items/pkg_pip/">pkg_pip</a>
</li>
                                    
<li >
    <a href="../../items/pkg_snap/">pkg_snap</a>
</li>
                                    
<li >
    <a href="../../items/pkg_yum/">pkg_yum</a>
</li>
                                    
<li >
    <a href="../../items/pkg_zypper/">pkg_zypper</a>
</li>
                                    
<li >
    <a href="../../items/postgres_db/">postgres_db</a>
</li>
                                    
<li >
    <a href="../../items/postgres_role/">postgres_role</a>
</li>
                                    
<li >
    <a href="../../items/svc_openbsd/">svc_openbsd</a>
</li>
                                    
<li >
    <a href="../../items/svc_systemd/">svc_systemd</a>
</li>
                                    
<li >
    <a href="../../items/svc_systemv/">svc_systemv</a>
</li>
                                    
<li >
    <a href="../../items/svc_upstart/">svc_upstart</a>
</li>
                                    
<li >
    <a href="../../items/symlink/">symlink</a>
</li>
                                    
<li >
    <a href="../../items/user/">user</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Misc <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../misc/about/">About</a>
</li>
                                    
<li >
    <a href="../../misc/deciding/">Why BundleWrap</a>
</li>
                                    
<li >
    <a href="../../misc/glossary/">Glossary</a>
</li>
                                    
<li >
    <a href="../../misc/faq/">FAQ</a>
</li>
                                    
<li >
    <a href="../../misc/contributing/">Contributing</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li >
                                <a rel="next" href="../cli/">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li >
                                <a rel="prev" href="../item_file_templates/">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li>
                                <a href="https://github.com/bundlewrap/bundlewrap/edit/master/docs/guide/env.md"><i class="fa fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#environment-variables">Environment Variables</a></li>
            <li><a href="#bw_add_host_keys">BW_ADD_HOST_KEYS</a></li>
            <li><a href="#bw_colors">BW_COLORS</a></li>
            <li><a href="#bw_debug_log_dir">BW_DEBUG_LOG_DIR</a></li>
            <li><a href="#bw_hardlock_expiry">BW_HARDLOCK_EXPIRY</a></li>
            <li><a href="#bw_identity">BW_IDENTITY</a></li>
            <li><a href="#bw_item_workers-and-bw_node_workers">BW_ITEM_WORKERS and BW_NODE_WORKERS</a></li>
            <li><a href="#bw_repo_path">BW_REPO_PATH</a></li>
            <li><a href="#bw_softlock_expiry">BW_SOFTLOCK_EXPIRY</a></li>
            <li><a href="#bw_ssh_args">BW_SSH_ARGS</a></li>
            <li><a href="#bw_scp_args">BW_SCP_ARGS</a></li>
            <li><a href="#bw_table_style">BW_TABLE_STYLE</a></li>
            <li><a href="#bw_vault_dummy_mode">BW_VAULT_DUMMY_MODE</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="environment-variables">Environment Variables</h1>
<h2 id="bw_add_host_keys"><code>BW_ADD_HOST_KEYS</code></h2>
<p>As BundleWrap uses OpenSSH to connect to hosts, host key checking is involved. By default, strict host key checking is activated. This might not be suitable for your setup. You can set this variable to <code>1</code> to cause BundleWrap to set the OpenSSH option <code>StrictHostKeyChecking=no</code>.</p>
<p>You can also use <code>bw -a ...</code> to achieve the same effect.</p>
<p><br></p>
<h2 id="bw_colors"><code>BW_COLORS</code></h2>
<p>Colors are enabled by default. Setting this variable to <code>0</code> tells BundleWrap to never use any ANSI color escape sequences.</p>
<p><br></p>
<h2 id="bw_debug_log_dir"><code>BW_DEBUG_LOG_DIR</code></h2>
<p>Set this to an existing directory path to have BundleWrap write debug logs there (even when you're running <code>bw</code> without <code>--debug</code>).</p>
<div class="alert alert-info">Debug logs are verbose and BundleWrap does not rotate them for you. Putting them on a tmpfs or ramdisk will save your SSD and get rid of old logs every time you reboot your machine.</div>

<p><br></p>
<h2 id="bw_hardlock_expiry"><code>BW_HARDLOCK_EXPIRY</code></h2>
<p><a href="../locks/">Hard locks</a> are automatically ignored after some time. By default, it's <code>"8h"</code>. You can use this variable to override that default.</p>
<p><br></p>
<h2 id="bw_identity"><code>BW_IDENTITY</code></h2>
<p>When BundleWrap <a href="../locks/">locks</a> a node, it stores a short description about "you". By default, this is the string <code>$USER@$HOSTNAME</code>, e.g. <code>john@mymachine</code>. You can use <code>BW_IDENTITY</code> to specify a custom string. (No variables will be evaluated in user supplied strings.)</p>
<p><br></p>
<h2 id="bw_item_workers-and-bw_node_workers"><code>BW_ITEM_WORKERS</code> and <code>BW_NODE_WORKERS</code></h2>
<p>BundleWrap attempts to parallelize work. These two options specify the number of nodes and items, respectively, which will be handled concurrently. To be more precise, when setting <code>BW_NODE_WORKERS=8</code> and <code>BW_ITEM_WORKERS=2</code>, BundleWrap will work on eight nodes in parallel, each handling two items in parallel.</p>
<p>You can also use the command line options <code>-p</code> and <code>-P</code>, e.g. <code>bw apply -p ... -P ... ...</code>, to achieve the same effect. Command line arguments override environment variables.</p>
<p>There is no single default for these values. For example, when running <code>bw apply</code>, four nodes are being handled by default. However, when running <code>bw test</code>, only one node will be tested by default. <code>BW_NODE_WORKERS</code> and <code>BW_ITEM_WORKERS</code> apply to <em>all</em> these operations.</p>
<p>Note that you should not set these variables to very high values. First, it can cause high memory consumption on your machine. Second, not all SSH servers can handle massive parallelism. Please refer to your OpenSSH documentation on how to tune your servers for these situations.</p>
<p><br></p>
<h2 id="bw_repo_path"><code>BW_REPO_PATH</code></h2>
<p>Set this to a path pointing to your BundleWrap repository. If unset, the current working directory is used. Can be overridden with <code>bw --repository PATH</code>. Keep in mind that <code>bw</code> will also look for a repository in all parent directories until it finds one.</p>
<p><br></p>
<h2 id="bw_softlock_expiry"><code>BW_SOFTLOCK_EXPIRY</code></h2>
<p><a href="../locks/">Soft locks</a> are automatically removed from nodes after some time. By default, it's <code>"8h"</code>. You can use this variable to override that default.</p>
<p><br></p>
<h2 id="bw_ssh_args"><code>BW_SSH_ARGS</code></h2>
<p>Extra arguments to include in every call to <code>ssh</code> BundleWrap makes. Set this to "-F ~/.ssh/otherconf" to use a different SSH config with BundleWrap. Defaults to <code>""</code>.</p>
<p><br></p>
<h2 id="bw_scp_args"><code>BW_SCP_ARGS</code></h2>
<p>Extra arguments to include in every call to <code>scp</code> BundleWrap makes. Defaults to the value of <code>BW_SSH_ARGS</code>.</p>
<p><br></p>
<h2 id="bw_table_style"><code>BW_TABLE_STYLE</code></h2>
<p>By default, BundleWrap uses Unicode box-drawing characters at various points in its output. Setting this env var to one of the following values changes that behavior:</p>
<table>
<tr><td><code>ascii</code></td><td>use only simple ASCII characters to render tables (useful if your font doesn't properly align box-drawing characters)</td></tr>
<tr><td><code>grep</code></td><td>make output more <code>grep</code>- and <code>cut</code>-friendly</td></tr>
</table>

<p><br></p>
<h2 id="bw_vault_dummy_mode"><code>BW_VAULT_DUMMY_MODE</code></h2>
<p>Setting this to <code>1</code> will make <code>repo.vault</code> return dummy values for every <a href="../secrets/">secret</a>. This is useful for running <code>bw test</code> on a CI server that you don't want to trust with your <code>.secrets.cfg</code>.</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>BundleWrap is published under the <a href='https://github.com/bundlewrap/bundlewrap/blob/master/LICENSE'>GPL license</a>.</p><p> Donations welcome in Bitcoin <code>13AJYksqncZromPF8HvDUXsmHChAm3Y7W7</code> or Ethereum <code>0x5Eb3037e197d3C0d2E014bcfC2e027EB0AD42812</code>.</p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
